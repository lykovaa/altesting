<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {  /* widget controller */  var c = this;};]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>download_button</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Download button</name>
        <option_schema>[{"name":"title","section":"Data","label":"Title","type":"string"}]</option_schema>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */

	// data.sys_id = $sp.getDisplayValue('sys_id');
	
	var attachmentID = "";
	var gr = new GlideRecord('sys_attachment');
	gr.addQuery('table_sys_id', $sp.getDisplayValue('sys_id'));
	gr.query();
	if(gr.next()){
		attachmentID = gr.sys_id;
	}

	data.sys_id = attachmentID + "";
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-10-06 15:55:48</sys_created_on>
        <sys_id>8fb8cbf2871619102eda33750cbb35d2</sys_id>
        <sys_name>Download button</sys_name>
        <sys_package display_value="AL Testing" source="x_snc_al_testing">4fd9605c875251102eda33750cbb3575</sys_package>
        <sys_policy/>
        <sys_scope display_value="AL Testing">4fd9605c875251102eda33750cbb3575</sys_scope>
        <sys_update_name>sp_widget_8fb8cbf2871619102eda33750cbb35d2</sys_update_name>
        <template><![CDATA[<div class>
<a ng-href="/sys_attachment.do?sysparm_refferring_url=tear_off&view=true&sys_id={{::data.sys_id}}" class="btn btn default downloadbtn" target="_blank" download="">{{::c.options.title}}</a>
</div>]]></template>
    </sp_widget>
</record_update>
